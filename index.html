<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Grimório — Estante de Artes (preview)</title>
<style>
  :root{
    --bg-wood-top:#2b1a10;
    --bg-wood-bottom:#1a0f07;
    --glow: rgba(138,78,237,0.12);
    --paper:#f0d88a;
    --text:#efe9ff;
    --muted:#cfc6e8;
    --rar-common:#9e9e9e;
    --rar-rare:#4aa3ff;
    --rar-epic:#8a4efd;
    --rar-legend:#d4af37;
    --shelf-h:#14px;
  }
  html,body{height:100%;margin:0}
  body{
    background:
      radial-gradient(1200px 400px at 10% 10%, rgba(138,78,237,0.06), transparent 6%),
      radial-gradient(800px 300px at 90% 90%, rgba(138,78,237,0.04), transparent 6%),
      linear-gradient(180deg,var(--bg-wood-top),var(--bg-wood-bottom));
    color:var(--text);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    padding:18px;
  }

  .container{max-width:1200px;margin:0 auto}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px}
  h1{margin:0;font-size:20px;color:var(--text);letter-spacing:0.6px}
  .subtitle{color:var(--muted);font-size:13px;margin-top:6px}

  /* shelf look */
  .shelf{
    margin-top:18px;
    border-radius:10px;
    padding:18px;
    background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06));
    box-shadow: 0 6px 30px rgba(0,0,0,0.6) inset;
  }

  .sectionTitle{
    color: #cdb9ff;
    font-weight:800;
    margin-top:6px;
    margin-bottom:12px;
    font-size:16px;
  }

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
    gap:14px;
  }

  .card{
    display:flex;
    gap:12px;
    align-items:flex-start;
    padding:12px;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
    box-shadow: 0 3px 10px rgba(0,0,0,0.5);
    border: 1px solid rgba(255,255,255,0.03);
  }

  .frame{
    width:96px; height:96px; /* visual frame - includes padding around 64px sprite */
    border-radius:8px;
    display:flex;align-items:center;justify-content:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    box-shadow: 0 4px 10px rgba(0,0,0,0.6) inset;
    position:relative;
  }

  .canvasWrap{ width:80px;height:80px; display:flex;align-items:center;justify-content:center; padding:8px; }
  canvas.pixel{ width:64px; height:64px; image-rendering: pixelated; border-radius:4px; background:rgba(255,255,255,0.03) }

  .meta{flex:1}
  .name{font-weight:800;color:var(--text)}
  .rarity{display:inline-block;margin-top:6px;padding:6px 10px;border-radius:8px;font-weight:800;color:#111;margin-bottom:6px}
  .desc{color:var(--muted);font-style:italic;margin-top:6px}

  /* rarity badges colors */
  .r-common{background:var(--rar-common)}
  .r-rare{background:var(--rar-rare)}
  .r-epic{background:var(--rar-epic)}
  .r-legend{background:var(--rar-legend)}

  /* wooden shelf separators */
  .shelf::before{
    content:'';
    position:absolute;
    left:0;right:0;
    height:6px;
    background:linear-gradient(90deg, rgba(0,0,0,0.4), rgba(255,255,255,0.02), rgba(0,0,0,0.3));
    transform:translateY(-12px);
    border-radius:6px;
  }

  footer{color:var(--muted);text-align:center;margin-top:18px;font-size:13px}
  @media(max-width:720px){ .grid{grid-template-columns:1fr} .frame{width:84px;height:84px} .canvasWrap{width:64px;height:64px;padding:6px}}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Grimório das Artes do RPG de Tarefas</h1>
        <div class="subtitle">Estante de visualização — artes em pixel 64×64 (fantasia vívida)</div>
      </div>
      <div style="text-align:right;color:var(--muted);font-size:13px">Preview — imagens geradas automaticamente</div>
    </header>

    <div class="shelf" id="shelfRoot" style="position:relative;margin-top:14px">
      <!-- Sections will be injected here -->
    </div>

    <footer>RPG de Tarefas — Grimório (visual preview)</footer>
  </div>

<script>
/* ========= Data: items to render =========
   We will draw 64x64 pixel sprites on canvas for each item.
*/

const SECTIONS_ORDER = [
  {key:'Equipamento Inicial', title:'Equipamento Inicial'},
  {key:'Armas', title:'Armas'},
  {key:'Armaduras', title:'Armaduras'},
  {key:'Cosmeticos', title:'Cosméticos'}
];

const ITEMS = [];

/* helper to push variants for weapons and armors */
function pushWeaponVariants(baseName, shortKey){
  const rarities = [
    {k:'common', label:'Comum'},
    {k:'rare', label:'Raro'},
    {k:'epic', label:'Épica'},
    {k:'legend', label:'Lendária'}
  ];
  rarities.forEach(r=>{
    ITEMS.push({
      section: 'Armas',
      key: shortKey,
      name: `${baseName} — ${r.label}`,
      rarity: r.k,
      rarityLabel: r.label,
      desc: poeticDesc(shortKey, r.k)
    });
  });
}

function pushArmorVariants(baseName, key){
  const rarities = [
    {k:'common', label:'Comum'},
    {k:'rare', label:'Raro'},
    {k:'epic', label:'Épica'},
    {k:'legend', label:'Lendária'}
  ];
  rarities.forEach(r=>{
    ITEMS.push({
      section: 'Armaduras',
      key: key,
      name: `${baseName} — ${r.label}`,
      rarity: r.k,
      rarityLabel: r.label,
      desc: poeticDesc('armadura', r.k)
    });
  });
}

/* initial equipment */
ITEMS.push({ section:'Equipamento Inicial', key:'pijama', name:'Pijama do Herói — Comum', rarity:'common', rarityLabel:'Comum', desc:'Traje lilás justo ao corpo. A veste do início, onde toda jornada começa.'});
ITEMS.push({ section:'Equipamento Inicial', key:'graveto', name:'Graveto Inicial — Comum', rarity:'common', rarityLabel:'Comum', desc:'Graveto simples que guiará o primeiro golpe do herói.'});

/* weapons */
pushWeaponVariants('Espada','espada');
pushWeaponVariants('Cajado','cajado');
pushWeaponVariants('Machado','machado');
pushWeaponVariants('Arco','arco');
pushWeaponVariants('Foice','foice');
pushWeaponVariants('Lança','lança');

/* armors - examples inspired by weapons */
const ARMOR_MODELS = [
  {name:'Túnica do Aventureiro', key:'tunica'},
  {name:'Armadura do Guardião', key:'guardiao'},
  {name:'Armadura do Caçador', key:'cacador'},
  {name:'Armadura do Feiticeiro', key:'feiticeiro'},
  {name:'Couraça Estelar', key:'couraca'}
];
ARMOR_MODELS.forEach(a=> pushArmorVariants(a.name,a.key));

/* cosmetics */
const COS = [
  {cat:'Capa', key:'capa', name:'Capa (Curta)'},
  {cat:'Capa', key:'capa_long', name:'Capa (Longa)'},
  {cat:'Chapéu', key:'chap_advent', name:'Chapéu (Aventureiro)'},
  {cat:'Chapéu', key:'chap_mage', name:'Chapéu (Mago)'}
];
COS.forEach(c=>{
  ['common','rare','epic','legend'].forEach(r=>{
    ITEMS.push({
      section:'Cosmeticos',
      key:c.key,
      name:`${c.name} — ${labelFromRarity(r)}`,
      rarity:r,
      rarityLabel: labelFromRarity(r).replace(/[()]/g,''),
      desc: poeticDesc(c.key, r)
    });
  });
});

/* small utility functions */
function labelFromRarity(k){
  if(k==='common') return '(Comum)';
  if(k==='rare') return '(Raro)';
  if(k==='epic') return '(Épica)';
  if(k==='legend') return '(Lendária)';
  return '';
}
function poeticDesc(kind, rarity){
  const map = {
    'espada':'A lâmina canta com ecos de dias antigos.',
    'cajado':'O cetro murmura versos de vento e estrelas.',
    'machado':'O corte ressoa como batida de martelo ancestral.',
    'arco':'A corda vibra com segredos de florestas antigas.',
    'foice':'A lâmina sussurra colheitas e despedidas.',
    'lança':'A ponta corta o ar, perfurando o destino.',
    'armadura':'As placas guardam memórias de batalhas e juramentos.',
    'pijama':'Tecido lilás que envolve o corpo em promessas de aurora.',
    'graveto':'Um começo humilde que guarda grande vontade.',
    'capa':'Símbolo de vigília e presença sutil.',
    'chap_advent':'Um chapéu gasto que já viu muitas estradas.',
    'chap_mage':'Chapéu trançado com fios encantados.'
  };
  const base = map[kind] || 'Um vestígio encantado, gravado em runas suaves.';
  let extra = '';
  if(rarity==='rare') extra = ' Uma luz tenue adorna o contorno.';
  if(rarity==='epic') extra = ' Runas suaves cintilam, despertando poder.';
  if(rarity==='legend') extra = ' Uma aura eterna pulsa, como estrela aprisionada.';
  return base + extra;
}

/* ---------- DRAWING: pixel-art 64x64 generation on canvas ---------- */

function drawPixelSprite(ctx, key, rarity){
  // ctx is 64x64 canvas context; draw in "logical pixels" grid for crispness
  const W = 64, H = 64;
  const px = 4; // grid pixel size (16x16 grid)
  ctx.clearRect(0,0,W,H);
  // background faint
  ctx.fillStyle = 'rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,W,H);

  // choose palette by rarity
  const palettes = {
    common: ['#cfcfcf','#8e6f4a','#bfa58a','#a07a50'], 
    rare:   ['#9fd2ff','#5a8fff','#4aa3ff','#2b6fb8'],
    epic:   ['#c9a6ff','#8a4efd','#6b2fb0','#3b1c5f'],
    legend: ['#ffe59a','#ffd166','#ffb84d','#b07a1f']
  };
  const pal = palettes[rarity] || palettes.common;

  // Draw different icons per key family
  if(['espada','cajado','machado','arco','foice','lança'].includes(key)){
    drawWeaponIcon(ctx, key, pal, px);
    drawGlow(ctx, pal[1], key, rarity);
    return;
  }
  if(['tunica','guardiao','cacador','feiticeiro','couraca'].includes(key)){
    drawArmorIcon(ctx, key, pal, px);
    drawGlow(ctx, pal[2], key, rarity);
    return;
  }
  if(key==='pijama'){
    drawPijama(ctx, pal, px);
    return;
  }
  if(key==='graveto'){
    drawGraveto(ctx, pal, px);
    return;
  }
  if(key.startsWith('capa') || key.startsWith('chap')){
    drawCosmeticIcon(ctx, key, pal, px);
    drawGlow(ctx, pal[1], key, rarity);
    return;
  }
  // fallback
  ctx.fillStyle = pal[0];
  ctx.fillRect(12,12,40,40);
}

/* weapon icon painters */
function drawWeaponIcon(ctx, key, pal, px){
  // use pixel rectangles to create simple but recognisable shapes
  ctx.imageSmoothingEnabled = false;
  ctx.fillStyle = pal[1];
  if(key==='espada'){
    // blade
    ctx.fillStyle = pal[0]; ctx.fillRect(28,8,8,28);
    ctx.fillStyle = pal[2]; ctx.fillRect(26,6,12,4);
    ctx.fillStyle = pal[3]; ctx.fillRect(30,36,4,12);
  } else if(key==='cajado'){
    ctx.fillStyle = pal[1]; ctx.fillRect(30,6,4,38);
    ctx.fillStyle = pal[2]; ctx.beginPath(); ctx.arc(32,8,8,0,Math.PI*2); ctx.fill();
  } else if(key==='machado'){
    ctx.fillStyle = pal[2]; ctx.fillRect(30,10,6,36);
    ctx.fillStyle = pal[0]; ctx.fillRect(18,10,18,12);
  } else if(key==='arco'){
    ctx.strokeStyle = pal[1]; ctx.lineWidth=3;
    ctx.beginPath(); ctx.arc(36,32,18,-0.5,0.5); ctx.stroke();
    ctx.fillStyle=pal[3]; ctx.fillRect(30,30,18,3);
  } else if(key==='foice'){
    ctx.fillStyle = pal[0]; ctx.beginPath(); ctx.arc(36,24,18,0.2,3.0); ctx.fill();
    ctx.fillStyle = pal[2]; ctx.fillRect(28,34,6,18);
  } else if(key==='lança'){
    ctx.fillStyle = pal[0]; ctx.fillRect(30,6,4,40);
    ctx.fillStyle = pal[2]; ctx.beginPath(); ctx.moveTo(32,4); ctx.lineTo(44,14); ctx.lineTo(20,14); ctx.fill();
  }
}

/* armor icon painters */
function drawArmorIcon(ctx, key, pal, px){
  ctx.imageSmoothingEnabled = false;
  ctx.fillStyle = pal[0];
  ctx.fillRect(20,12,24,36); // base torso
  ctx.fillStyle = pal[2];
  ctx.fillRect(22,20,20,18); // central plate
  // shoulders
  ctx.fillStyle = pal[1];
  ctx.fillRect(16,10,12,8);
  ctx.fillRect(36,10,12,8);
}

/* cosmetic painters */
function drawCosmeticIcon(ctx, key, pal, px){
  ctx.imageSmoothingEnabled = false;
  if(key.startsWith('capa')){
    ctx.fillStyle = pal[1]; ctx.fillRect(18,10,28,44);
    ctx.fillStyle = pal[2]; ctx.fillRect(22,14,20,36);
  } else {
    // hat
    ctx.fillStyle = pal[2]; ctx.fillRect(22,8,20,12);
    ctx.fillStyle = pal[1]; ctx.fillRect(20,18,24,12);
  }
}

/* pijama and graveto */
function drawPijama(ctx, pal, px){
  ctx.imageSmoothingEnabled = false;
  ctx.fillStyle = pal[2];
  ctx.fillRect(20,16,24,36);
  ctx.fillStyle = pal[1];
  ctx.beginPath(); ctx.arc(32,24,8,0,Math.PI*2); ctx.fill(); // head area
}
function drawGraveto(ctx, pal, px){
  ctx.imageSmoothingEnabled = false;
  ctx.fillStyle = pal[2];
  ctx.fillRect(30,10,4,44);
  ctx.fillStyle = pal[3]; ctx.fillRect(28,8,8,4);
}

/* glow effect for higher rarities */
function drawGlow(ctx, color, key, rarity){
  if(rarity==='common') return;
  const g = ctx.createLinearGradient(0,0,64,64);
  g.addColorStop(0, hexToRgba(color, 0.18));
  g.addColorStop(1, hexToRgba(color, 0.06));
  ctx.fillStyle = g;
  ctx.fillRect(0,0,64,64);
}

/* tiny helper to convert hex to rgba */
function hexToRgba(hex, alpha){
  // accept #rrggbb
  const c = hex.replace('#','');
  const r = parseInt(c.substring(0,2),16);
  const g = parseInt(c.substring(2,4),16);
  const b = parseInt(c.substring(4,6),16);
  return `rgba(${r},${g},${b},${alpha})`;
}

/* ---------- Render UI ---------- */

function createCard(item){
  const el = document.createElement('div'); el.className='card';
  const frame = document.createElement('div'); frame.className='frame';
  const canvasWrap = document.createElement('div'); canvasWrap.className='canvasWrap';
  const canvas = document.createElement('canvas');
  canvas.width=64; canvas.height=64; canvas.className='pixel';
  canvasWrap.appendChild(canvas);
  frame.appendChild(canvasWrap);
  const meta = document.createElement('div'); meta.className='meta';
  const name = document.createElement('div'); name.className='name'; name.textContent = item.name;
  const badge = document.createElement('div'); badge.className='rarity r-'+item.rarity;
  // set badge color
  badge.classList.add(item.rarity==='common'?'r-common': item.rarity==='rare'?'r-rare': item.rarity==='epic'?'r-epic':'r-legend');
  badge.textContent = item.rarityLabel;
  const desc = document.createElement('div'); desc.className='desc'; desc.textContent = item.desc;
  meta.appendChild(name); meta.appendChild(badge); meta.appendChild(desc);
  el.appendChild(frame); el.appendChild(meta);
  // draw sprite
  const ctx = canvas.getContext('2d');
  drawPixelSprite(ctx, item.key, item.rarity);
  // border color according to rarity
  const borderColor = window.getComputedStyle(document.documentElement).getPropertyValue('--' + (item.rarity==='legend'?'rar-legend': item.rarity==='epic'?'rar-epic': item.rarity==='rare'?'rar-rare':'rar-common')).trim() || '#9e9e9e';
  frame.style.boxShadow = `0 6px 18px rgba(0,0,0,0.6), inset 0 0 0 4px ${borderColor}`;
  return el;
}

function buildShelf(){
  const root = document.getElementById('shelfRoot');
  SECTIONS_ORDER.forEach(sec=>{
    const title = document.createElement('div'); title.className='sectionTitle'; title.textContent = sec.title;
    root.appendChild(title);
    const sectionGrid = document.createElement('div'); sectionGrid.className='grid';
    const items = ITEMS.filter(i=> i.section === sec.key);
    items.forEach(it=>{
      sectionGrid.appendChild(createCard(it));
    });
    root.appendChild(sectionGrid);
  });
}

/* initial render */
buildShelf();

</script>
</body>
</html>
