<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grimório das Artes do RPG de Tarefas</title>
  <style>
    body {
      font-family: "Press Start 2P", monospace;
      background: linear-gradient(180deg, #1e0d1f, #2b0b2f);
      color: #e9d8ff;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      transition: background 0.3s, color 0.3s;
    }

    body.light {
      background: linear-gradient(180deg, #f3e8ff, #e8d5f9);
      color: #2a1231;
    }

    header {
      text-align: center;
      padding: 20px;
    }

    h1 {
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    .controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    button, input[type="file"] {
      background: #6b21a8;
      border: none;
      color: #fff;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      transition: background 0.2s;
    }

    button:hover {
      background: #8b5cf6;
    }

    .shelf {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 20px;
      padding: 20px;
      max-width: 900px;
      margin: auto;
    }

    .item {
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #a855f7;
      border-radius: 12px;
      text-align: center;
      padding: 10px;
      transition: transform 0.2s, background 0.3s;
    }

    .item:hover {
      transform: scale(1.05);
      background: rgba(255, 255, 255, 0.1);
    }

    .item img {
      width: 128px;
      height: 128px;
      image-rendering: pixelated;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 0.8em;
      opacity: 0.7;
    }

    .rarity {
      font-size: 0.7em;
      border-radius: 6px;
      padding: 3px 6px;
      display: inline-block;
      margin-top: 5px;
    }

    .comum { background: #9ca3af; color: #000; }
    .raro { background: #60a5fa; color: #000; }
    .epico { background: #a855f7; color: #fff; }

    .avatar-preview {
      text-align: center;
      margin: 10px auto;
    }

    .avatar-preview img {
      width: 96px;
      height: 96px;
      image-rendering: pixelated;
    }
  </style>
</head>
<body>
  <header>
    <h1>Grimório das Artes do RPG de Tarefas</h1>
    <p>Estante refinada — artes 128×128 (fundo lilás sólido). Clique em um item para equipar no avatar.</p>
    <div class="controls">
      <button id="toggleGender">Masculino</button>
      <button id="toggleTheme">Tema Claro</button>
      <label>Música: <input type="file" id="musicFile" accept="audio/*"></label>
      <button id="playMusic">Tocar</button>
      <button id="muteMusic">Mudo</button>
      <button id="exportZip">Exportar ZIP</button>
    </div>
    <div class="avatar-preview">
      <img id="avatar" src="assets/avatar_masc.png" alt="Avatar">
    </div>
  </header>

  <main>
    <div class="shelf" id="itemShelf">
      <div class="item">
        <img src="assets/pijama.png" alt="Pijama do Herói">
        <div><b>Pijama do Herói</b></div>
        <div class="rarity comum">Comum</div>
        <p>Traje lilás justo ao corpo. Onde toda jornada começa.</p>
      </div>

      <div class="item">
        <img src="assets/espada_epica.png" alt="Espada Épica">
        <div><b>Espada Épica</b></div>
        <div class="rarity epico">Épica</div>
        <p>A lâmina canta com ecos de dias antigos. Rúnas suaves brilham.</p>
      </div>

      <div class="item">
        <img src="assets/bau_raro.png" alt="Baú Raro">
        <div><b>Baú Raro</b></div>
        <div class="rarity raro">Raro</div>
        <p>Baú que guarda segredos e luz lilás em seu interior.</p>
      </div>
    </div>
  </main>

  <footer>
    RPG de Tarefas — Grimório das Artes — Preview Refinado
  </footer>

  <script>
    const toggleThemeBtn = document.getElementById("toggleTheme");
    const toggleGenderBtn = document.getElementById("toggleGender");
    const avatar = document.getElementById("avatar");
    const musicFile = document.getElementById("musicFile");
    const playMusicBtn = document.getElementById("playMusic");
    const muteMusicBtn = document.getElementById("muteMusic");

    let currentTheme = "dark";
    let gender = "masc";
    let audio = new Audio();

    toggleThemeBtn.onclick = () => {
      document.body.classList.toggle("light");
      currentTheme = currentTheme === "dark" ? "light" : "dark";
      toggleThemeBtn.textContent = currentTheme === "dark" ? "Tema Claro" : "Tema Escuro";
    };

    toggleGenderBtn.onclick = () => {
      gender = gender === "masc" ? "fem" : "masc";
      avatar.src = `assets/avatar_${gender}.png`;
      toggleGenderBtn.textContent = gender === "masc" ? "Masculino" : "Feminino";
    };

    musicFile.onchange = (e) => {
      const file = e.target.files[0];
      if (file) audio.src = URL.createObjectURL(file);
    };

    playMusicBtn.onclick = () => audio.play();
    muteMusicBtn.onclick = () => audio.pause();

    document.getElementById("exportZip").onclick = () => {
      alert("Função de exportação ZIP será ativada em breve (WIP).");
    };
  </script>
</body>
</html>
